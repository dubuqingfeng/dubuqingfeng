---
title: 字符集与排序规则（Charset/Collation）
---

正确选择字符集与排序规则，避免存储与比较异常。

## 常见选择

- 推荐：`utf8mb4`（完整 UTF-8）；排序规则 8.0 建议使用 `_0900_ai_ci` 系列。
- 避免旧版 `utf8`（不完整 3 字节）。

## 比较与索引长度

- 字符串索引长度受字符集影响：`utf8mb4` 每字符最多 4 字节。
- 使用前缀索引控制长度，或 InnoDB 变长前缀页格式（8.0 默认）。

## 迁移注意

- 统一库/表/列字符集；检查存量数据编码是否一致。
- 应用层注意连接字符集（`character_set_client`）。

