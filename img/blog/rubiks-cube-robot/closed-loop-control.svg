<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="420" viewBox="0 0 1200 420" role="img" aria-label="解魔方机器人闭环控制模型">
  <defs>
    <style>
      .bg { fill: #f8fafc; }
      .box { fill: #ffffff; stroke: #1f2937; stroke-width: 2; rx: 16; ry: 16; }
      .title { font: 600 22px -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,"PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif; fill: #111827; }
      .text { font: 400 18px -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,"PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif; fill: #374151; }
      .muted { fill: #6b7280; }
      .arrow { stroke: #111827; stroke-width: 2.5; fill: none; marker-end: url(#arrowHead); }
      .dashed { stroke-dasharray: 7 6; }
    </style>
    <marker id="arrowHead" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
      <path d="M0,0 L12,6 L0,12 Z" fill="#111827"/>
    </marker>
  </defs>

  <rect class="bg" x="0" y="0" width="1200" height="420" rx="18" ry="18"/>

  <!-- Setpoint / reference -->
  <rect class="box" x="60" y="70" width="260" height="110"/>
  <text class="title" x="190" y="112" text-anchor="middle">目标 / 指令</text>
  <text class="text muted" x="190" y="146" text-anchor="middle">期望动作序列 / 角度</text>

  <!-- Controller -->
  <rect class="box" x="380" y="55" width="300" height="140"/>
  <text class="title" x="530" y="98" text-anchor="middle">控制器</text>
  <text class="text" x="530" y="132" text-anchor="middle">MCU + 驱动</text>
  <text class="text muted" x="530" y="162" text-anchor="middle">PWM / PID(可选)</text>

  <!-- Plant -->
  <rect class="box" x="740" y="55" width="380" height="140"/>
  <text class="title" x="930" y="98" text-anchor="middle">被控对象（机械系统）</text>
  <text class="text" x="930" y="132" text-anchor="middle">舵机 + 机械臂 + 魔方</text>
  <text class="text muted" x="930" y="162" text-anchor="middle">输出：姿态/转动结果</text>

  <!-- Sensor -->
  <rect class="box" x="430" y="255" width="320" height="120"/>
  <text class="title" x="590" y="300" text-anchor="middle">测量 / 传感</text>
  <text class="text" x="590" y="334" text-anchor="middle">视觉（摄像头）/ 限位(可选)</text>

  <!-- Forward arrows -->
  <path class="arrow" d="M320 125 L380 125"/>
  <text class="text muted" x="350" y="112" text-anchor="middle">参考输入</text>

  <path class="arrow" d="M680 125 L740 125"/>
  <text class="text muted" x="710" y="112" text-anchor="middle">控制量</text>

  <!-- Output to sensor -->
  <path class="arrow" d="M930 195 L930 240 L750 240"/>
  <text class="text muted" x="885" y="230" text-anchor="middle">输出/状态</text>

  <!-- Feedback to controller -->
  <path class="arrow dashed" d="M430 315 L330 315 L330 160 L380 160"/>
  <text class="text muted" x="345" y="300" text-anchor="start">反馈</text>

  <!-- Error summing node (implicit) -->
  <circle cx="350" cy="125" r="10" fill="#ffffff" stroke="#111827" stroke-width="2"/>
  <text class="text" x="350" y="131" text-anchor="middle">Σ</text>
  <path class="arrow dashed" d="M430 315 L350 315 L350 145"/>
</svg>

