"use strict";(self.webpackChunkdubuqingfeng=self.webpackChunkdubuqingfeng||[]).push([[4716],{20606:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"Wiki/blockchain/solana/address","title":"address","description":"Address","source":"@site/docs/Wiki/blockchain/solana/address.md","sourceDirName":"Wiki/blockchain/solana","slug":"/Wiki/blockchain/solana/address","permalink":"/docs/Wiki/blockchain/solana/address","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"quant","permalink":"/docs/Wiki/blockchain/quant/"},"next":{"title":"pda","permalink":"/docs/Wiki/blockchain/solana/pda"}}');var r=s(74848),c=s(28453);const l={},o=void 0,d={},a=[{value:"Address",id:"address",level:2},{value:"\u5bc6\u94a5\u4e0e\u5730\u5740",id:"\u5bc6\u94a5\u4e0e\u5730\u5740",level:3},{value:"BIP44 \u6d3e\u751f\u8def\u5f84\uff08\u5e38\u89c1\uff09",id:"bip44-\u6d3e\u751f\u8def\u5f84\u5e38\u89c1",level:3},{value:"On-curve \u4e0e Off-curve",id:"on-curve-\u4e0e-off-curve",level:3},{value:"\u5173\u8054\u4ee3\u5e01\u8d26\u6237\uff08ATA\uff09",id:"\u5173\u8054\u4ee3\u5e01\u8d26\u6237ata",level:3},{value:"\u9a8c\u8bc1\u4e0e\u6392\u67e5",id:"\u9a8c\u8bc1\u4e0e\u6392\u67e5",level:3}];function t(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"address",children:"Address"}),"\n",(0,r.jsx)(n.p,{children:"Solana \u5730\u5740\u662f Ed25519 \u516c\u94a5\uff0832 \u5b57\u8282\uff09\u7684 Base58 \u7f16\u7801\u3002\u4e0e\u6bd4\u7279\u5e01/\u4ee5\u592a\u574a\u4e0d\u540c\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u76f4\u63a5\u5bf9 32 \u5b57\u8282\u8fdb\u884c Base58 \u7f16\u7801\uff08\u65e0\u7248\u672c\u5b57\u8282\u3001\u65e0 Base58Check \u6821\u9a8c\uff09\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u663e\u793a\u957f\u5ea6\u901a\u5e38\u5728 32~44 \u4e2a Base58 \u5b57\u7b26\u4e4b\u95f4\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u4efb\u610f\u8d26\u6237\uff08\u5916\u90e8\u8d26\u6237\u3001\u7a0b\u5e8f\u8d26\u6237\u3001\u4ee3\u5e01\u8d26\u6237\u3001PDA\uff09\u672c\u8d28\u90fd\u662f\u4e00\u4e2a\u201c\u5730\u5740\u201d\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u5bc6\u94a5\u4e0e\u5730\u5740",children:"\u5bc6\u94a5\u4e0e\u5730\u5740"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5bc6\u94a5\u5bf9\u7b97\u6cd5\uff1aEd25519"}),"\n",(0,r.jsx)(n.li,{children:"\u516c\u94a5\uff1a32 \u5b57\u8282 \u2192 \u5730\u5740\u5b57\u7b26\u4e32 = Base58(pubkey)"}),"\n",(0,r.jsxs)(n.li,{children:["\u79c1\u94a5\u8868\u793a\uff1a","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"solana-keygen new -o keypair.json"})," \u5bfc\u51fa 64 \u5b57\u8282\uff08secretKey = 32 \u5b57\u8282\u79cd\u5b50 + 32 \u5b57\u8282\u516c\u94a5\u62fc\u63a5\uff09\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["Web3.js \u7684 ",(0,r.jsx)(n.code,{children:"Keypair.fromSecretKey(Uint8Array)"})," \u76f4\u63a5\u63a5\u53d7\u8be5 64 \u5b57\u8282\u6570\u7ec4\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff08TypeScript / Node\uff09\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { Keypair } from '@solana/web3.js'\n\n// \u4ece solana-keygen \u5bfc\u51fa\u7684 keypair.json\uff0864 \u5b57\u8282\u6570\u7ec4\uff09\nconst secret = Uint8Array.from([ /* 64 bytes here */ ])\nconst kp = Keypair.fromSecretKey(secret)\nconsole.log('Address:', kp.publicKey.toBase58())\n"})}),"\n",(0,r.jsx)(n.h3,{id:"bip44-\u6d3e\u751f\u8def\u5f84\u5e38\u89c1",children:"BIP44 \u6d3e\u751f\u8def\u5f84\uff08\u5e38\u89c1\uff09"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8def\u5f84\uff1a",(0,r.jsx)(n.code,{children:"m/44'/501'/account'/change'"})]}),"\n",(0,r.jsx)(n.li,{children:"\u4e0d\u540c\u94b1\u5305\u5bf9 account/change \u7684\u9ed8\u8ba4\u53d6\u503c\u4e0d\u540c\uff1b\u5bfc\u5165\u52a9\u8bb0\u8bcd\u65f6\u9700\u6ce8\u610f\u9009\u62e9\u4e00\u81f4\u7684\u6d3e\u751f\u8def\u5f84\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"on-curve-\u4e0e-off-curve",children:"On-curve \u4e0e Off-curve"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u201cOn-curve\u201d\uff1a\u53ef\u7531\u67d0\u4e2a\u79c1\u94a5\u7b7e\u540d\u7684\u516c\u94a5\uff08\u666e\u901a\u94b1\u5305\u5730\u5740\u5c5e\u4e8e\u6b64\u7c7b\uff09\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u201cOff-curve\u201d\uff1a\u4e0d\u5bf9\u5e94\u4efb\u4f55\u79c1\u94a5\uff0c\u65e0\u6cd5\u7b7e\u540d\u3002\u7a0b\u5e8f\u6d3e\u751f\u5730\u5740\uff08PDA\uff09\u5fc5\u987b\u662f off-curve\u3002"}),"\n",(0,r.jsxs)(n.li,{children:["\u68c0\u67e5\uff1a",(0,r.jsx)(n.code,{children:"PublicKey.isOnCurve(pubkey)"}),"\uff08Web3.js\uff09"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u6ce8\u610f\uff1aPDA \u65e0\u6cd5\u7b7e\u540d\uff1b\u82e5\u9700\u8981\u201c\u6388\u6743\u201d\uff0c\u7a0b\u5e8f\u9700\u8981\u5728\u94fe\u4e0a\u903b\u8f91\u4e2d\u9a8c\u8bc1 PDA \u4f5c\u4e3a authority \u5e76\u7531\u7a0b\u5e8f\u6267\u884c CPI \u6765\u201c\u4ee3\u8868\u201d PDA \u884c\u4f7f\u6743\u9650\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u5173\u8054\u4ee3\u5e01\u8d26\u6237ata",children:"\u5173\u8054\u4ee3\u5e01\u8d26\u6237\uff08ATA\uff09"}),"\n",(0,r.jsx)(n.p,{children:"SPL Token \u91c7\u7528\u201c\u5173\u8054\u4ee3\u5e01\u8d26\u6237\u201d\u5b58\u653e\u67d0\u94b1\u5305\u67d0\u4ee3\u5e01\u7684\u4f59\u989d\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u552f\u4e00\u5730\u5740 = \u57fa\u4e8e\uff08owner\u3001Token Program Id\u3001mint\uff09\u4e09\u5143\u7ec4\u786e\u5b9a\u7684 PDA"}),"\n",(0,r.jsx)(n.li,{children:"\u7531 \u201cAssociated Token Program\u201d \u8d1f\u8d23\u521b\u5efa"}),"\n",(0,r.jsx)(n.li,{children:"\u4e0d\u540c\u7684 Token Program\uff08\u7ecf\u5178\u7248\u4e0e Token-2022\uff09\u5bf9\u5e94\u4e0d\u540c\u7684 ATA \u7a0b\u5e8f\u5e38\u91cf"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u793a\u4f8b\uff08TypeScript\uff09\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { getAssociatedTokenAddress } from '@solana/spl-token'\nimport { PublicKey } from '@solana/web3.js'\n\nconst owner = new PublicKey('...owner...')\nconst mint = new PublicKey('...mint...')\nconst ata = await getAssociatedTokenAddress(mint, owner)\nconsole.log('ATA:', ata.toBase58())\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u9a8c\u8bc1\u4e0e\u6392\u67e5",children:"\u9a8c\u8bc1\u4e0e\u6392\u67e5"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Base58 \u89e3\u7801\u540e\u5e94\u4e3a 32 \u5b57\u8282\uff0c\u5426\u5219\u4e0d\u662f\u6709\u6548\u516c\u94a5\u5730\u5740\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u666e\u901a\u94b1\u5305\u5730\u5740\u4e00\u822c on-curve\uff1b\u9047\u5230 off-curve \u591a\u4e3a PDA\uff08\u7a0b\u5e8f\u6d3e\u751f\u5730\u5740\uff09\u3002"}),"\n",(0,r.jsxs)(n.li,{children:["Keypair JSON \u5e94\u4e3a 64 \u5b57\u8282\uff1b\u82e5\u4ec5\u6709 32 \u5b57\u8282\uff0c\u591a\u534a\u53ea\u662f\u79c1\u94a5\u79cd\u5b50\uff0c\u4e0d\u7b26\u5408 Web3.js \u7684 ",(0,r.jsx)(n.code,{children:"fromSecretKey"})," \u8f93\u5165\u683c\u5f0f\u3002"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var i=s(96540);const r={},c=i.createContext(r);function l(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);