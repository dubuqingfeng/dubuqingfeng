"use strict";(self.webpackChunkdubuqingfeng=self.webpackChunkdubuqingfeng||[]).push([[6305],{72005:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>a,frontMatter:()=>l,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"Wiki/programming/sql/query/joins-subqueries","title":"joins-subqueries","description":"\u8fde\u63a5\u4e0e\u5b50\u67e5\u8be2","source":"@site/docs/Wiki/programming/sql/query/joins-subqueries.md","sourceDirName":"Wiki/programming/sql/query","slug":"/Wiki/programming/sql/query/joins-subqueries","permalink":"/docs/Wiki/programming/sql/query/joins-subqueries","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"aggregation","permalink":"/docs/Wiki/programming/sql/query/aggregation"},"next":{"title":"set-operations","permalink":"/docs/Wiki/programming/sql/query/set-operations"}}');var r=s(74848),t=s(28453);const l={},o=void 0,c={},u=[{value:"\u8fde\u63a5\u4e0e\u5b50\u67e5\u8be2",id:"\u8fde\u63a5\u4e0e\u5b50\u67e5\u8be2",level:3},{value:"\u8981\u70b9",id:"\u8981\u70b9",level:4},{value:"\u793a\u4f8b\uff1aIN \u4e0e EXISTS",id:"\u793a\u4f8bin-\u4e0e-exists",level:4},{value:"\u793a\u4f8b\uff1aCTE \u4e0e\u9012\u5f52 CTE",id:"\u793a\u4f8bcte-\u4e0e\u9012\u5f52-cte",level:4}];function d(e){const n={code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"\u8fde\u63a5\u4e0e\u5b50\u67e5\u8be2",children:"\u8fde\u63a5\u4e0e\u5b50\u67e5\u8be2"}),"\n",(0,r.jsx)(n.p,{children:"\u4ece\u5185\u8fde\u63a5/\u5916\u8fde\u63a5\u5230\u76f8\u5173\u5b50\u67e5\u8be2\u4e0e\u6d3e\u751f\u8868\uff0c\u7406\u89e3\u6267\u884c\u7b56\u7565\u4e0e\u53ef\u66ff\u4ee3\u5199\u6cd5\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"\u8981\u70b9",children:"\u8981\u70b9"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8fde\u63a5\u7c7b\u578b\uff1aINNER/LEFT/RIGHT/FULL\uff08\u90e8\u5206\u5f15\u64ce\u4e0d\u652f\u6301 FULL\uff09\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"\u8fde\u63a5\u6761\u4ef6\u4e0e\u9009\u62e9\u6027\uff1a\u907f\u514d\u7b1b\u5361\u5c14\u79ef\uff1b"}),"\n",(0,r.jsxs)(n.li,{children:["\u5b50\u67e5\u8be2\uff1a\u76f8\u5173/\u975e\u76f8\u5173\u3001",(0,r.jsx)(n.code,{children:"IN/EXISTS"})," \u7684\u7b49\u4ef7\u4e0e\u5dee\u5f02\uff1b"]}),"\n",(0,r.jsxs)(n.li,{children:["\u6d3e\u751f\u8868\u4e0e CTE\uff08",(0,r.jsx)(n.code,{children:"WITH"}),"\uff09\uff1b\u9012\u5f52 CTE \u652f\u6301\u60c5\u51b5\uff1b"]}),"\n",(0,r.jsx)(n.li,{children:"\u534a\u8fde\u63a5/\u53cd\u8fde\u63a5\u7684\u6539\u5199\u7b56\u7565\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"\u793a\u4f8bin-\u4e0e-exists",children:"\u793a\u4f8b\uff1aIN \u4e0e EXISTS"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- \u8c01\u4e0b\u8fc7\u5355\nSELECT * FROM users WHERE id IN (SELECT user_id FROM orders);\n\n-- \u7b49\u4ef7\u5199\u6cd5\uff08\u901a\u5e38\u4f18\u5316\u5668\u6539\u5199\u4e3a\u534a\u8fde\u63a5\uff09\nSELECT u.* FROM users u WHERE EXISTS (\n  SELECT 1 FROM orders o WHERE o.user_id = u.id\n);\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4f4e\u9009\u62e9\u6027\u5b50\u67e5\u8be2\u66f4\u504f\u5411 EXISTS\uff1b\u53ef\u8bfb\u6027\u4f18\u5148\u65f6\u6309\u56e2\u961f\u7ea6\u5b9a\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"\u793a\u4f8bcte-\u4e0e\u9012\u5f52-cte",children:"\u793a\u4f8b\uff1aCTE \u4e0e\u9012\u5f52 CTE"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"WITH RECURSIVE t(n) AS (\n  SELECT 1\n  UNION ALL\n  SELECT n+1 FROM t WHERE n < 5\n)\nSELECT * FROM t; -- 1..5\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6ce8\u610f\uff1a\u90e8\u5206\u5f15\u64ce\u5bf9 CTE \u7269\u5316/\u5185\u8054\u7b56\u7565\u4e0d\u540c\uff0c\u5f71\u54cd\u6027\u80fd\uff08Postgres \u53ef\u7531\u4f18\u5316\u5668\u51b3\u5b9a\uff0c\u65e7\u7248\u672c\u5e38\u7269\u5316\uff09\u3002"})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var i=s(96540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);