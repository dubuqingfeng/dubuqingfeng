"use strict";(self.webpackChunkdubuqingfeng=self.webpackChunkdubuqingfeng||[]).push([[766],{74661:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"Wiki/programming/sql/query/aggregation","title":"aggregation","description":"\u805a\u5408\u4e0e\u5206\u7ec4","source":"@site/docs/Wiki/programming/sql/query/aggregation.md","sourceDirName":"Wiki/programming/sql/query","slug":"/Wiki/programming/sql/query/aggregation","permalink":"/docs/Wiki/programming/sql/query/aggregation","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"partitioning-sharding","permalink":"/docs/Wiki/programming/sql/performance/partitioning-sharding"},"next":{"title":"joins-subqueries","permalink":"/docs/Wiki/programming/sql/query/joins-subqueries"}}');var s=i(74848),l=i(28453);const t={},o=void 0,c={},d=[{value:"\u805a\u5408\u4e0e\u5206\u7ec4",id:"\u805a\u5408\u4e0e\u5206\u7ec4",level:3},{value:"\u8981\u70b9",id:"\u8981\u70b9",level:4},{value:"\u793a\u4f8b\uff1a\u53bb\u91cd\u805a\u5408\u4e0e\u66ff\u4ee3",id:"\u793a\u4f8b\u53bb\u91cd\u805a\u5408\u4e0e\u66ff\u4ee3",level:4},{value:"\u5927\u5206\u7ec4\u7684\u5185\u5b58\u63a7\u5236",id:"\u5927\u5206\u7ec4\u7684\u5185\u5b58\u63a7\u5236",level:4}];function a(e){const n={code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"\u805a\u5408\u4e0e\u5206\u7ec4",children:"\u805a\u5408\u4e0e\u5206\u7ec4"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"GROUP BY"}),"/",(0,s.jsx)(n.code,{children:"HAVING"})," \u4e0e\u805a\u5408\u51fd\u6570\uff0c\u660e\u6670\u8bed\u4e49\u4e0e\u5e38\u89c1\u9677\u9631\u3002"]}),"\n",(0,s.jsx)(n.h4,{id:"\u8981\u70b9",children:"\u8981\u70b9"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u805a\u5408\u51fd\u6570\uff1a",(0,s.jsx)(n.code,{children:"COUNT/SUM/AVG/MIN/MAX"}),"\uff1b",(0,s.jsx)(n.code,{children:"COUNT(*)"})," vs ",(0,s.jsx)(n.code,{children:"COUNT(col)"}),"\uff1b"]}),"\n",(0,s.jsx)(n.li,{children:"\u5206\u7ec4\u5217\u4e0e\u9009\u62e9\u5217\u8868\uff1a\u4ec5\u80fd\u9009\u62e9\u5206\u7ec4\u5217\u6216\u805a\u5408\u8868\u8fbe\u5f0f\uff08\u90e8\u5206\u65b9\u8a00\u5bbd\u677e\uff09\uff1b"}),"\n",(0,s.jsxs)(n.li,{children:["\u8fc7\u6ee4\uff1a",(0,s.jsx)(n.code,{children:"WHERE"})," \u5728\u5206\u7ec4\u524d\u3001",(0,s.jsx)(n.code,{children:"HAVING"})," \u5728\u5206\u7ec4\u540e\uff1b"]}),"\n",(0,s.jsx)(n.li,{children:"Rollup/Cube/Grouping Sets \u7684\u652f\u6301\u5dee\u5f02\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"\u793a\u4f8b\u53bb\u91cd\u805a\u5408\u4e0e\u66ff\u4ee3",children:"\u793a\u4f8b\uff1a\u53bb\u91cd\u805a\u5408\u4e0e\u66ff\u4ee3"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT COUNT(DISTINCT user_id) FROM orders WHERE created_at >= CURRENT_DATE - INTERVAL '30 days';\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u9ad8\u57fa\u6570\u53bb\u91cd\u4ee3\u4ef7\u9ad8\uff0c\u53ef\u8003\u8651\uff1a\u9884\u805a\u5408\u8868/\u7269\u5316\u89c6\u56fe\u3001HyperLogLog \u8fd1\u4f3c\u53bb\u91cd\uff08\u652f\u6301\u7684\u5f15\u64ce\uff09\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u5927\u5206\u7ec4\u7684\u5185\u5b58\u63a7\u5236",children:"\u5927\u5206\u7ec4\u7684\u5185\u5b58\u63a7\u5236"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u8c03\u6574\u5de5\u4f5c\u5185\u5b58/\u4e34\u65f6\u8868\u9608\u503c\uff08\u6309\u5f15\u64ce\uff09\uff1b"}),"\n",(0,s.jsx)(n.li,{children:"\u5206\u533a\u805a\u5408\uff1a\u5148\u6309\u65f6\u95f4/\u5206\u7247\u805a\u5408\u518d\u6c47\u603b\uff1b"}),"\n",(0,s.jsx)(n.li,{children:"\u5fc5\u8981\u65f6\u6539\u4e3a\u79bb\u7ebf\u4efb\u52a1\uff08ETL\uff09\u3002"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var r=i(96540);const s={},l=r.createContext(s);function t(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);