"use strict";(globalThis.webpackChunkdubuqingfeng=globalThis.webpackChunkdubuqingfeng||[]).push([[50531],{28453:(e,r,n)=>{n.d(r,{R:()=>c,x:()=>d});var t=n(96540);const a={},i=t.createContext(a);function c(e){const r=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),t.createElement(i.Provider,{value:r},e.children)}},81647:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>s,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>l});var t=n(86867),a=n(74848),i=n(28453);const c={title:"\u5982\u4f55\u4f7f\u7528 PreferenceFragment \u65b9\u4fbf\u5730\u5b8c\u6210\u8bbe\u7f6e\u754c\u9762",description:"0x01 \u524d\u8a00 \u5728\u8bbe\u7f6e\u754c\u9762\u7684\u5f00\u53d1\u65f6\uff0c\u4ee5\u524d\u5f80\u5f80\u901a\u8fc7\u81ea\u5df1\u5199\u754c\u9762\uff0c\u5728\u6ca1\u6709\u5408\u9002\u7f8e\u5de5\u65f6\uff0c\u6bd4\u8f83\u8d39\u65f6\u8d39\u529b\uff0c\u5c24\u5176\u662f\u4ee5\u524d\u9700\u8981\u517c\u5bb9Android2.3\u7684\u65f6\u5019\u3002\u5f533.0\u4ee5\u540e\u51fa\u73b0\u4e86PreferenceFragment\uff0c\u53ef\u4ee5\u5feb\u901f\u5730\u5b8c\u6210\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u7cfb\u7edf\u8bbe\u7f6e\u7684\u504f\u597d\u8bbe\u5b9a\u754c\u9762\u3002",date:"2015-06-06 12:13",updated:"2015-06-06 12:13",tags:["Android","PreferenceFragment","\u6280\u672f"],excerpt:"\u5728android\u4e2d\uff0c\u5229\u7528 PreferenceFragment \u5feb\u901f\u5b8c\u6210\u8bbe\u7f6e\u754c\u9762\u4ee5\u53ca\u4e00\u4e9b\u601d\u8003\u3002",categories:"Android",permalink:"201506-android-Preference-fragment.html",author:"admin",toc:!0},d="0x01 \u524d\u8a00",s={authorsImageUrls:[void 0]},l=[];function o(e){const r={a:"a",code:"code",h1:"h1",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.p,{children:"\u5728\u8bbe\u7f6e\u754c\u9762\u7684\u5f00\u53d1\u65f6\uff0c\u4ee5\u524d\u5f80\u5f80\u901a\u8fc7\u81ea\u5df1\u5199\u754c\u9762\uff0c\u5728\u6ca1\u6709\u5408\u9002\u7f8e\u5de5\u65f6\uff0c\u6bd4\u8f83\u8d39\u65f6\u8d39\u529b\uff0c\u5c24\u5176\u662f\u4ee5\u524d\u9700\u8981\u517c\u5bb9Android2.3\u7684\u65f6\u5019\u3002\u5f533.0\u4ee5\u540e\u51fa\u73b0\u4e86PreferenceFragment\uff0c\u53ef\u4ee5\u5feb\u901f\u5730\u5b8c\u6210\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u7cfb\u7edf\u8bbe\u7f6e\u7684\u504f\u597d\u8bbe\u5b9a\u754c\u9762\u3002"}),"\n",(0,a.jsx)(r.p,{children:"\u5728android3.0\u4ee5\u540e\uff0c\u5b98\u65b9\u63a8\u8350\u4f7f\u7528PreferenceFragment\u53bb\u66ff\u4ee3PreferenceActivity\u3002\n\u4ee5\u53ca\u4e00\u4e9b\u914d\u7f6e\u3002"}),"\n",(0,a.jsx)(r.h1,{id:"0x02-\u6d45\u6790",children:"0x02 \u6d45\u6790"}),"\n",(0,a.jsx)(r.p,{children:"PreferenceFragment\u662f\u7ee7\u627f\u4e8eFragment\uff0c\u5b9e\u73b0\u4e86PreferenceManager.OnPreferenceTreeClickListener\u8fd9\u4e9b\u63a5\u53e3\u3002"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"/**\n * Interface definition for a callback to be invoked when a\n * {@link Preference} in the hierarchy rooted at this \n * {@link PreferenceScreen} is\n * clicked.\n *\n * @hide\n */\npublic interface OnPreferenceTreeClickListener {\n    /**\n     * Called when a preference in the tree rooted at this\n     * {@link PreferenceScreen} has been clicked.\n     * \n     * @param preferenceScreen The {@link PreferenceScreen} that the\n     *        preference is located in.\n     * @param preference The preference that was clicked.\n     * @return Whether the click was handled.\n     */\n    boolean onPreferenceTreeClick(PreferenceScreen \n    preferenceScreen, Preference preference);\n}\n"})}),"\n",(0,a.jsx)(r.h1,{id:"0x03-\u5b8c\u6210\u6b65\u9aa4",children:"0x03 \u5b8c\u6210\u6b65\u9aa4"}),"\n",(0,a.jsx)(r.p,{children:"\u901a\u8fc7\u65b0\u5efa\u9879\u76ee\u7684\u65b9\u5f0f\uff1a"}),"\n",(0,a.jsx)(r.p,{children:"\u5728android-studio\u91cc\uff0c\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff1aPreferenceFragmentDemo"}),"\n",(0,a.jsx)(r.p,{children:"\u9009\u62e9Blank Activity With Fragment\uff0c\u586b\u5199activity\u4e3aSettingActivity\u3002"}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.strong,{children:"\u4fee\u6539fragment\u7ee7\u627fPreferenceFragment\u3002"})}),"\n",(0,a.jsx)(r.p,{children:"\u65b0\u5efa\u4e00\u4e2axml\u6587\u4ef6\uff0c\u5efa\u7acb/res/xml/preferences.xml"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-xml",children:'<PreferenceScreen\n    xmlns:android="http://schemas.android.com/apk/res/android">\n\n    <PreferenceCategory\n        android:title="\u8bbe\u7f6eA">\n\n    <CheckBoxPreference\n            android:key="checkbox_preference"\n            android:title="\u6807\u9898"\n            android:summary="\u8be6\u7ec6" />\n\n    </PreferenceCategory>\n\n    <PreferenceCategory\n        android:title="\u8bbe\u7f6eB">\n\n    <EditTextPreference\n            android:key="edittext_preference"\n            android:title="\u6807\u9898"\n            android:summary="\u8be6\u7ec6"\n            android:dialogTitle="\u5bf9\u8bdd\u6846\u6807\u9898" />\n\n    </PreferenceCategory>\n\n</PreferenceScreen>\n'})}),"\n",(0,a.jsx)(r.p,{children:"\u5728SettingFragment\u4e2d\uff0c\u901a\u8fc7addPreferencesFromResource(R.xml.preferences);\u52a0\u8f7d\u4e0a\u8ff0\u7684xml\u6587\u4ef6\u3002"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    addPreferencesFromResource(R.xml.preferences);\n}\n"})}),"\n",(0,a.jsxs)(r.p,{children:["\u8bbe\u7f6e\u9879\u4fdd\u5b58\u5230\u54ea\u4e86\uff1fSharedPreferences\u3002\u5728/data/data/\u5e94\u7528\u5305\u540d/shared_prefs/\u5e94\u7528\u5305\u540d_preferences.xml\u6587\u4ef6\u4e2d\uff0candroid",":key","\u5373\u4e3a\u952e\u503c\u540d\u3002"]}),"\n",(0,a.jsx)(r.p,{children:"\u5982\u4f55\u8bfb\u53d6\u8bbe\u7f6e\uff1f\u901a\u8fc7SharedPreferences"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'SharedPreferences mySharedPreferences = PreferenceManager\n        .getDefaultSharedPreferences(this);\n\nboolean my_checkbox_preference = mySharedPreferences.getBoolean(\n        "checkbox_preference", false);\nprefCheckBox.setChecked(my_checkbox_preference);\n\nString my_edittext_preference = mySharedPreferences.getString(\n        "edittext_preference", "");\nprefEditText.setText(my_edittext_preference);\n'})}),"\n",(0,a.jsx)(r.p,{children:"\u5217\u8868\u8bbe\u7f6e\u9879\u7684ListPreferences\u7c7b\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-xml",children:'<ListPreference\n      android:key="list_preference"\n      android:title="@string/\u6807\u9898"\n      android:dialogTitle="@string/\u5bf9\u8bdd\u6846\u6807\u9898"\n      android:entries="@array/listArray"\n      android:entryValues="@array/listValues" />\n'})}),"\n",(0,a.jsx)(r.p,{children:"entries\u548centryValues\u4ece\u54ea\u6765\uff1f/res/values/array.xml\u6216\u8005/res/values/strings.xml"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-xml",children:'<resources>\n<string-array name="listArray">\n    <item>Headings</item>\n    <item>Headings and Details</item>\n    <item>All Data</item>\n</string-array>\n\n<string-array name="listValues">\n    <item>1</item>\n    <item>2</item>\n    <item>3</item>\n</string-array>\n</resources>\n'})}),"\n",(0,a.jsx)(r.p,{children:"preference-headers\u7c7b"}),"\n",(0,a.jsx)(r.h1,{id:"0x04-preference\u7c7b",children:"0x04 Preference\u7c7b"}),"\n",(0,a.jsx)(r.p,{children:"\u524d\u51e0\u5929\u5728SIMS(\u5b66\u751f\u4fe1\u606f\u7ba1\u7406\u7cfb\u7edf)\u9879\u76ee\u4e2d\uff0c\u6d89\u53ca\u5230\u4e86Preference\u8fd9\u4e2a\u7c7b\uff0c\u5f53\u65f6\u53ef\u4ee5\u901a\u8fc7\u8f93\u5165\u8f93\u51fa\u6d41\u8fdb\u884c\u4e0e\u6587\u4ef6\u7684\u4ea4\u4e92\u3002"}),"\n",(0,a.jsx)(r.p,{children:"\u5728Java\u91cc\u53ef\u4ee5\u5229\u7528\u8fd9\u4e2a\u7c7b\u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\u4fe1\u606f\u7684\u4fdd\u5b58\u7b49\u3002"}),"\n",(0,a.jsxs)(r.p,{children:["\u8be6\u60c5\u53ef\u53c2\u8003",(0,a.jsx)(r.a,{href:"https://github.com/DigDream/SIMS/blob/master/src/com/student/sb/utils/PropertiesUtils.java",children:"PropertiesUtils"}),"\u7684\u5b9e\u73b0\u3002"]}),"\n",(0,a.jsx)(r.h1,{id:"0x05-\u601d\u8003",children:"0x05 \u601d\u8003"}),"\n",(0,a.jsxs)(r.p,{children:["\u5176PreferenceFragment\u6587\u4ef6\u6e90\u7801\u5730\u5740\u5728\uff1a",(0,a.jsx)(r.a,{href:"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/preference/PreferenceFragment.java",children:"GoogleSource"}),"\uff0c\u5176\u4e2d\u5229\u7528\u4e86ListView\u8fdb\u884c\u754c\u9762\u7ed8\u5236\u3002\u53e6\u5916grepcode.com\u8fd9\u4e2a\u7f51\u7ad9\u662f\u4e2a\u4e0d\u9519\u7684\u67e5\u770bandroid\u6e90\u4ee3\u7801(AOSP)\u7684\u7f51\u7ad9\u3002\u4ee5\u53ca\u8fd8\u6709\u4e00\u4e9b",(0,a.jsx)(r.a,{href:"http://www.programcreek.com/java-api-examples/index.php?api=android.preference.PreferenceFragment",children:"\u793a\u4f8b\u4ee3\u7801"}),"\u3002"]}),"\n",(0,a.jsxs)(r.p,{children:["\u5e76\u4e14\u6587\u6863\u91cc\u8fd8\u4ecb\u7ecd\u4e86android3.0\u4ee5\u524d\u5982\u679c\u60f3\u7528PreferenceFragment\u600e\u4e48\u529e\uff0c\u8be6\u7ec6\u53c2\u8003",(0,a.jsx)(r.a,{href:"http://developer.android.com/guide/topics/ui/settings.html#BackCompatHeaders",children:"\u8fd9\u4e2a\u94fe\u63a5"}),"\u3002"]}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.a,{href:"%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"})}),"\n",(0,a.jsx)(r.h1,{id:"0x06-\u53c2\u8003\u94fe\u63a5",children:"0x06 \u53c2\u8003\u94fe\u63a5"}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.a,{href:"http://developer.android.com/guide/topics/ui/settings.html",children:"settings"})}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.a,{href:"http://developer.android.com/reference/android/preference/PreferenceFragment.html",children:"\u5b98\u65b9\u6587\u6863"})}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.a,{href:"http://www.cs.dartmouth.edu/~campbell/cs65/lecture12/lecture12.html",children:"Using PreferenceFragment to store user preferences"})}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.a,{href:"https://github.com/codepath/android_guides/wiki/Settings-with-PreferenceFragment",children:"Settings-with-PreferenceFragment"})})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},86867:e=>{e.exports=JSON.parse('{"permalink":"/blog/201506-android-Preference-fragment","source":"@site/blog/201506-android-Preference-fragment.md","title":"\u5982\u4f55\u4f7f\u7528 PreferenceFragment \u65b9\u4fbf\u5730\u5b8c\u6210\u8bbe\u7f6e\u754c\u9762","description":"0x01 \u524d\u8a00 \u5728\u8bbe\u7f6e\u754c\u9762\u7684\u5f00\u53d1\u65f6\uff0c\u4ee5\u524d\u5f80\u5f80\u901a\u8fc7\u81ea\u5df1\u5199\u754c\u9762\uff0c\u5728\u6ca1\u6709\u5408\u9002\u7f8e\u5de5\u65f6\uff0c\u6bd4\u8f83\u8d39\u65f6\u8d39\u529b\uff0c\u5c24\u5176\u662f\u4ee5\u524d\u9700\u8981\u517c\u5bb9Android2.3\u7684\u65f6\u5019\u3002\u5f533.0\u4ee5\u540e\u51fa\u73b0\u4e86PreferenceFragment\uff0c\u53ef\u4ee5\u5feb\u901f\u5730\u5b8c\u6210\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u7cfb\u7edf\u8bbe\u7f6e\u7684\u504f\u597d\u8bbe\u5b9a\u754c\u9762\u3002","date":"2015-06-06T12:13:00.000Z","tags":[{"inline":true,"label":"Android","permalink":"/blog/tags/android"},{"inline":true,"label":"PreferenceFragment","permalink":"/blog/tags/preference-fragment"},{"inline":true,"label":"\u6280\u672f","permalink":"/blog/tags/\u6280\u672f"}],"readingTime":2.79,"hasTruncateMarker":false,"authors":[{"name":"admin","key":null,"page":null}],"frontMatter":{"title":"\u5982\u4f55\u4f7f\u7528 PreferenceFragment \u65b9\u4fbf\u5730\u5b8c\u6210\u8bbe\u7f6e\u754c\u9762","description":"0x01 \u524d\u8a00 \u5728\u8bbe\u7f6e\u754c\u9762\u7684\u5f00\u53d1\u65f6\uff0c\u4ee5\u524d\u5f80\u5f80\u901a\u8fc7\u81ea\u5df1\u5199\u754c\u9762\uff0c\u5728\u6ca1\u6709\u5408\u9002\u7f8e\u5de5\u65f6\uff0c\u6bd4\u8f83\u8d39\u65f6\u8d39\u529b\uff0c\u5c24\u5176\u662f\u4ee5\u524d\u9700\u8981\u517c\u5bb9Android2.3\u7684\u65f6\u5019\u3002\u5f533.0\u4ee5\u540e\u51fa\u73b0\u4e86PreferenceFragment\uff0c\u53ef\u4ee5\u5feb\u901f\u5730\u5b8c\u6210\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u7cfb\u7edf\u8bbe\u7f6e\u7684\u504f\u597d\u8bbe\u5b9a\u754c\u9762\u3002","date":"2015-06-06 12:13","updated":"2015-06-06 12:13","tags":["Android","PreferenceFragment","\u6280\u672f"],"excerpt":"\u5728android\u4e2d\uff0c\u5229\u7528 PreferenceFragment \u5feb\u901f\u5b8c\u6210\u8bbe\u7f6e\u754c\u9762\u4ee5\u53ca\u4e00\u4e9b\u601d\u8003\u3002","categories":"Android","permalink":"201506-android-Preference-fragment.html","author":"admin","toc":true},"unlisted":false,"prevItem":{"title":"CNUTCon\u5168\u7403\u5bb9\u5668\u6280\u672f\u5927\u4f1a\u6709\u611f","permalink":"/blog/201508-CNUTCon-Docker-Beijing"},"nextItem":{"title":"Linux VPS\u7684\u4e00\u4e9b\u914d\u7f6e","permalink":"/blog/201505-vps-base-setting"}}')}}]);