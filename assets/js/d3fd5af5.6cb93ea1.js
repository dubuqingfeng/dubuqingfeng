"use strict";(self.webpackChunkdubuqingfeng=self.webpackChunkdubuqingfeng||[]).push([[9859],{55399:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>a});const c=JSON.parse('{"id":"Wiki/blockchain/bitcoin/wallet/hd","title":"hd","description":"HD \u94b1\u5305\uff08BIP32/39/44/84/86\uff09","source":"@site/docs/Wiki/blockchain/bitcoin/wallet/hd.md","sourceDirName":"Wiki/blockchain/bitcoin/wallet","slug":"/Wiki/blockchain/bitcoin/wallet/hd","permalink":"/docs/Wiki/blockchain/bitcoin/wallet/hd","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"descriptor","permalink":"/docs/Wiki/blockchain/bitcoin/wallet/descriptor"},"next":{"title":"psbt","permalink":"/docs/Wiki/blockchain/bitcoin/wallet/psbt"}}');var l=i(74848),d=i(28453);const s={},r=void 0,t={},a=[{value:"HD \u94b1\u5305\uff08BIP32/39/44/84/86\uff09",id:"hd-\u94b1\u5305bip3239448486",level:2},{value:"BIP32 \u6838\u5fc3",id:"bip32-\u6838\u5fc3",level:3},{value:"\u5e38\u89c1\u8def\u5f84",id:"\u5e38\u89c1\u8def\u5f84",level:3},{value:"\u52a9\u8bb0\u8bcd\uff08BIP39\uff09",id:"\u52a9\u8bb0\u8bcdbip39",level:3},{value:"Go \u4f2a\u4ee3\u7801\uff1aCKD",id:"go-\u4f2a\u4ee3\u7801ckd",level:3}];function o(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"hd-\u94b1\u5305bip3239448486",children:"HD \u94b1\u5305\uff08BIP32/39/44/84/86\uff09"}),"\n",(0,l.jsx)(n.p,{children:"\u5206\u5c42\u786e\u5b9a\u6027\uff08HD\uff09\u94b1\u5305\u901a\u8fc7\u201c\u4e3b\u79cd\u5b50 + \u8def\u5f84\u201d\u6d3e\u751f\u65e0\u9650\u5bc6\u94a5\u5bf9\uff0c\u4fbf\u4e8e\u5907\u4efd\u4e0e\u8d26\u6237\u5316\u7ba1\u7406\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"bip32-\u6838\u5fc3",children:"BIP32 \u6838\u5fc3"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u6269\u5c55\u5bc6\u94a5\uff1a",(0,l.jsx)(n.code,{children:"(key, chainCode)"}),"\uff1bHMAC-SHA512 \u6d3e\u751f\uff1a",(0,l.jsx)(n.code,{children:"I = HMAC-SHA512(cc_parent, data)"})]}),"\n",(0,l.jsxs)(n.li,{children:["data\uff1a","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["hardened\uff1a",(0,l.jsx)(n.code,{children:"0x00 || ser256(k_par) || ser32(i)"}),"\uff08\u9700\u8981\u79c1\u94a5\uff09"]}),"\n",(0,l.jsxs)(n.li,{children:["non-hardened\uff1a",(0,l.jsx)(n.code,{children:"serP(K_par) || ser32(i)"}),"\uff08CKDpub \u652f\u6301\uff09"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u5b50\u79c1\u94a5\uff1a",(0,l.jsx)(n.code,{children:"k_child = (IL + k_par) mod n"}),"; \u5b50\u516c\u94a5\uff1a",(0,l.jsx)(n.code,{children:"K_child = k_child\xb7G"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5e38\u89c1\u8def\u5f84",children:"\u5e38\u89c1\u8def\u5f84"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["BIP44\uff08\u4f20\u7edf\uff09\uff1a",(0,l.jsx)(n.code,{children:"m / 44' / coin' / account' / change / index"})]}),"\n",(0,l.jsxs)(n.li,{children:["BIP84\uff08\u539f\u751f P2WPKH\uff09\uff1a",(0,l.jsx)(n.code,{children:"m / 84' / coin' / account' / change / index"})]}),"\n",(0,l.jsxs)(n.li,{children:["BIP86\uff08P2TR\uff09\uff1a",(0,l.jsx)(n.code,{children:"m / 86' / coin' / account' / change / index"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u52a9\u8bb0\u8bcdbip39",children:"\u52a9\u8bb0\u8bcd\uff08BIP39\uff09"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4ee5 PBKDF2 \u751f\u6210\u79cd\u5b50\uff1b\u6ce8\u610f\u8bed\u8a00/\u8bcd\u8868\u4e0e passphrase"}),"\n",(0,l.jsx)(n.li,{children:"\u5b89\u5168\u5efa\u8bae\uff1a\u79bb\u7ebf\u751f\u6210\uff0c\u9632\u622a\u5c4f/\u952e\u76d8\u8bb0\u5f55\uff1b\u4f18\u5148\u786c\u4ef6\u94b1\u5305"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"go-\u4f2a\u4ee3\u7801ckd",children:"Go \u4f2a\u4ee3\u7801\uff1aCKD"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:"if hardened(i) {\n  data = append([]byte{0x00}, ser256(kPar)...)\n  data = append(data, ser32(i)...)\n} else {\n  data = append(serP(KPar), ser32(i)...)\n}\nI  := HMAC_SHA512(ccPar, data)\nIL := I[:32]; IR := I[32:]\nkChild := (toInt(IL) + kPar) % n\nccChild := IR\n"})})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>r});var c=i(96540);const l={},d=c.createContext(l);function s(e){const n=c.useContext(d);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),c.createElement(d.Provider,{value:n},e.children)}}}]);