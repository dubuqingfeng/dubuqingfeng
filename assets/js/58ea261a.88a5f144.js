"use strict";(globalThis.webpackChunkdubuqingfeng=globalThis.webpackChunkdubuqingfeng||[]).push([[4936],{28453:(n,e,i)=>{i.d(e,{R:()=>c,x:()=>t});var o=i(96540);const r={},s=o.createContext(r);function c(n){const e=o.useContext(s);return o.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:c(n.components),o.createElement(s.Provider,{value:e},n.children)}},37690:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>c,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"Wiki/programming/nodejs/toolchain/node-version","title":"node-version","description":"Node \u7248\u672c\u7ba1\u7406\uff08nvm \u7b49\uff09","source":"@site/docs/Wiki/programming/nodejs/toolchain/node-version.md","sourceDirName":"Wiki/programming/nodejs/toolchain","slug":"/Wiki/programming/nodejs/toolchain/node-version","permalink":"/docs/Wiki/programming/nodejs/toolchain/node-version","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"security","permalink":"/docs/Wiki/programming/nodejs/security/"},"next":{"title":"package-managers","permalink":"/docs/Wiki/programming/nodejs/toolchain/package-managers"}}');var r=i(74848),s=i(28453);const c={},t=void 0,d={},l=[{value:"Node \u7248\u672c\u7ba1\u7406\uff08nvm \u7b49\uff09",id:"node-\u7248\u672c\u7ba1\u7406nvm-\u7b49",level:3},{value:"\u8981\u70b9",id:"\u8981\u70b9",level:4},{value:"\u5b9e\u52a1\u5efa\u8bae",id:"\u5b9e\u52a1\u5efa\u8bae",level:4}];function a(n){const e={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h3,{id:"node-\u7248\u672c\u7ba1\u7406nvm-\u7b49",children:"Node \u7248\u672c\u7ba1\u7406\uff08nvm \u7b49\uff09"}),"\n",(0,r.jsxs)(e.p,{children:["\u591a\u7248\u672c\u5e76\u5b58\u4e0e\u5207\u6362\u3001\u9879\u76ee\u5185\u7ea6\u675f\u4e0e CI \u5bf9\u9f50\u3002\u66f4\u591a\u7ec6\u8282\u53ef\u53c2\u8003 JavaScript \u7ae0\u8282\u7684",(0,r.jsx)(e.a,{href:"/docs/Wiki/programming/javascript/toolchain/node-version",children:"Node \u7248\u672c\u7ba1\u7406"}),"\u3002"]}),"\n",(0,r.jsx)(e.h4,{id:"\u8981\u70b9",children:"\u8981\u70b9"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"nvm/nodenv/Volta \u7684\u9009\u62e9\u4e0e\u56e2\u961f\u5bf9\u9f50\uff1b"}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"engines"})," \u5b57\u6bb5\u4e0e CI \u77e9\u9635\uff1b"]}),"\n",(0,r.jsx)(e.li,{children:"\u5168\u5c40 vs \u672c\u5730\u4f9d\u8d56\u3001Corepack \u4e0e pnpm\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u5ffd\u7565\u6587\u4ef6\u4e0e\u7f13\u5b58\u52a0\u901f\uff08CI\uff09\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"\u5b9e\u52a1\u5efa\u8bae",children:"\u5b9e\u52a1\u5efa\u8bae"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:".nvmrc"}),"/",(0,r.jsx)(e.code,{children:".node-version"})," \u56fa\u5b9a\u7248\u672c\uff1bCI \u4f7f\u7528\u540c\u7248\u672c\u77e9\u9635\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yaml",children:"# .github/workflows/ci.yml\nstrategy:\n  matrix:\n    node: [20, 22]\nsteps:\n  - uses: actions/setup-node@v4\n    with: { node-version: ${{ matrix.node }}, cache: 'npm' }\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"package.json#engines"})," \u4e0e ",(0,r.jsx)(e.code,{children:"engine-strict"})," \u7ea6\u675f\uff1b"]}),"\n",(0,r.jsxs)(e.li,{children:["Corepack \u56fa\u5b9a\u5305\u7ba1\u5668\u7248\u672c\uff1a",(0,r.jsx)(e.code,{children:"corepack enable && corepack prepare pnpm@9.0.0 --activate"}),"\uff1b"]}),"\n",(0,r.jsxs)(e.li,{children:["\u9501\u6587\u4ef6\u5728 CI \u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"--frozen-lockfile/ci"})," \u4fdd\u8bc1\u53ef\u590d\u73b0\u6784\u5efa\u3002"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}}}]);