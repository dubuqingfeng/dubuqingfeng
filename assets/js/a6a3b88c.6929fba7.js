"use strict";(self.webpackChunkdubuqingfeng=self.webpackChunkdubuqingfeng||[]).push([[131],{38236:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"Wiki/programming/dart/testing","title":"\u6d4b\u8bd5\u4e0e\u8986\u76d6\u7387","description":"\u4f7f\u7528 test \u5305\u7f16\u5199\u5355\u5143/\u96c6\u6210\u6d4b\u8bd5\uff0c\u751f\u6210\u8986\u76d6\u7387\u62a5\u544a\u3002","source":"@site/docs/Wiki/programming/dart/testing.md","sourceDirName":"Wiki/programming/dart","slug":"/Wiki/programming/dart/testing","permalink":"/docs/Wiki/programming/dart/testing","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\u6d4b\u8bd5\u4e0e\u8986\u76d6\u7387"},"sidebar":"tutorialSidebar","previous":{"title":"Shelf\uff08\u670d\u52a1\u7aef\uff09","permalink":"/docs/Wiki/programming/dart/server-shelf"},"next":{"title":"ClickHouse","permalink":"/docs/wiki/programming/database/clickhouse"}}');var r=t(74848),s=t(28453);const a={title:"\u6d4b\u8bd5\u4e0e\u8986\u76d6\u7387"},c=void 0,d={},o=[{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u547d\u4ee4",id:"\u547d\u4ee4",level:2},{value:"\u7ec4\u7ec7\u6d4b\u8bd5\u4e0e\u751f\u547d\u5468\u671f",id:"\u7ec4\u7ec7\u6d4b\u8bd5\u4e0e\u751f\u547d\u5468\u671f",level:2},{value:"Mocking\uff08\u793a\u4f8b\uff09",id:"mocking\u793a\u4f8b",level:2}];function l(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"test"})," \u5305\u7f16\u5199\u5355\u5143/\u96c6\u6210\u6d4b\u8bd5\uff0c\u751f\u6210\u8986\u76d6\u7387\u62a5\u544a\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"import 'package:test/test.dart';\n\nint add(int a, int b) => a + b;\n\nvoid main() {\n  test('add', () {\n    expect(add(1, 2), 3);\n  });\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u547d\u4ee4",children:"\u547d\u4ee4"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dart pub add --dev test\ndart test --coverage=coverage\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u7ec4\u7ec7\u6d4b\u8bd5\u4e0e\u751f\u547d\u5468\u671f",children:"\u7ec4\u7ec7\u6d4b\u8bd5\u4e0e\u751f\u547d\u5468\u671f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"import 'package:test/test.dart';\n\nvoid main() {\n  setUp(() { /* init */ });\n  tearDown(() { /* dispose */ });\n\n  group('math', () {\n    test('add', () => expect(1 + 2, 3));\n  });\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"mocking\u793a\u4f8b",children:"Mocking\uff08\u793a\u4f8b\uff09"}),"\n",(0,r.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"mocktail"}),"\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"class Api { Future<int> get() async => 1; }\nclass ApiMock extends Mock implements Api {}\n"})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>c});var i=t(96540);const r={},s=i.createContext(r);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);