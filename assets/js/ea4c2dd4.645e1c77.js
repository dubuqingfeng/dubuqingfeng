"use strict";(self.webpackChunkdubuqingfeng=self.webpackChunkdubuqingfeng||[]).push([[8172],{2564:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Wiki/programming/rust/language/traits-generics","title":"traits-generics","description":"Traits \u4e0e\u6cdb\u578b","source":"@site/docs/Wiki/programming/rust/language/traits-generics.md","sourceDirName":"Wiki/programming/rust/language","slug":"/Wiki/programming/rust/language/traits-generics","permalink":"/docs/Wiki/programming/rust/language/traits-generics","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ownership-borrowing","permalink":"/docs/Wiki/programming/rust/language/ownership-borrowing"},"next":{"title":"macros","permalink":"/docs/Wiki/programming/rust/macros/"}}');var i=r(74848),s=r(28453);const a={},l=void 0,o={},c=[{value:"Traits \u4e0e\u6cdb\u578b",id:"traits-\u4e0e\u6cdb\u578b",level:3},{value:"Traits\uff08\u63a5\u53e3\u7ea6\u675f\uff09",id:"traits\u63a5\u53e3\u7ea6\u675f",level:4},{value:"where \u8bed\u6cd5\u4e0e\u591a\u4e2a\u7ea6\u675f",id:"where-\u8bed\u6cd5\u4e0e\u591a\u4e2a\u7ea6\u675f",level:4},{value:"\u5173\u8054\u7c7b\u578b\u4e0e\u8fed\u4ee3\u5668\u793a\u4f8b",id:"\u5173\u8054\u7c7b\u578b\u4e0e\u8fed\u4ee3\u5668\u793a\u4f8b",level:4},{value:"\u52a8\u6001\u5206\u53d1\uff08Trait Object\uff09",id:"\u52a8\u6001\u5206\u53d1trait-object",level:4},{value:"\u4e0e Go \u7684\u5bf9\u7167",id:"\u4e0e-go-\u7684\u5bf9\u7167",level:4}];function u(e){const n={code:"code",h3:"h3",h4:"h4",li:"li",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"traits-\u4e0e\u6cdb\u578b",children:"Traits \u4e0e\u6cdb\u578b"}),"\n",(0,i.jsx)(n.h4,{id:"traits\u63a5\u53e3\u7ea6\u675f",children:"Traits\uff08\u63a5\u53e3\u7ea6\u675f\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:'trait Area { fn area(&self) -> f64; }\n\nstruct Circle { r: f64 }\nimpl Area for Circle { fn area(&self) -> f64 { std::f64::consts::PI * self.r * self.r } }\n\nfn print_area<T: Area>(t: &T) { println!("area={}", t.area()); }\n\nfn main() { print_area(&Circle { r: 2.0 }); }\n'})}),"\n",(0,i.jsx)(n.h4,{id:"where-\u8bed\u6cd5\u4e0e\u591a\u4e2a\u7ea6\u675f",children:"where \u8bed\u6cd5\u4e0e\u591a\u4e2a\u7ea6\u675f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:'fn combine<T, U>(t: T, u: U) -> String\nwhere\n    T: ToString,\n    U: ToString,\n{\n    format!("{}-{}", t.to_string(), u.to_string())\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"\u5173\u8054\u7c7b\u578b\u4e0e\u8fed\u4ee3\u5668\u793a\u4f8b",children:"\u5173\u8054\u7c7b\u578b\u4e0e\u8fed\u4ee3\u5668\u793a\u4f8b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"trait MyIter {\n    type Item;\n    fn next(&mut self) -> Option<Self::Item>;\n}\n"})}),"\n",(0,i.jsx)(n.h4,{id:"\u52a8\u6001\u5206\u53d1trait-object",children:"\u52a8\u6001\u5206\u53d1\uff08Trait Object\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:'fn draw_all(items: &[&dyn std::fmt::Display]) {\n    for it in items { println!("{}", it); }\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"\u4e0e-go-\u7684\u5bf9\u7167",children:"\u4e0e Go \u7684\u5bf9\u7167"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Trait \u7c7b\u4f3c Go \u7684\u63a5\u53e3\uff0c\u4f46\u652f\u6301\u9ed8\u8ba4\u5b9e\u73b0\u3001\u5173\u8054\u7c7b\u578b\u3001\u6cdb\u578b\u7ea6\u675f\u7b49\u66f4\u5f3a\u8868\u8fbe\u529b\u3002"}),"\n",(0,i.jsx)(n.li,{children:"Rust \u6cdb\u578b\u4e3a\u5355\u6001\u5316\uff08\u7f16\u8bd1\u671f\u751f\u6210\u5177\u4f53\u7248\u672c\uff09\uff0c\u96f6\u5f00\u9500\u62bd\u8c61\uff1bGo 1.18+ \u6cdb\u578b\u4e3a\u5b57\u5178\u5f0f\u6216\u5176\u4ed6\u7b56\u7565\u5b9e\u73b0\uff0c\u6027\u80fd\u6a21\u578b\u4e0d\u540c\u3002"}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>l});var t=r(96540);const i={},s=t.createContext(i);function a(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);