"use strict";(self.webpackChunkdubuqingfeng=self.webpackChunkdubuqingfeng||[]).push([[105],{46102:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"Wiki/programming/cpp/language/variant-optional","title":"variant-optional","description":"\u53ef\u9009\u4e0e\u4ee3\u6570\u7c7b\u578b\uff1astd::variant","source":"@site/docs/Wiki/programming/cpp/language/variant-optional.md","sourceDirName":"Wiki/programming/cpp/language","slug":"/Wiki/programming/cpp/language/variant-optional","permalink":"/docs/Wiki/programming/cpp/language/variant-optional","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"templates","permalink":"/docs/Wiki/programming/cpp/language/templates"},"next":{"title":"memory","permalink":"/docs/Wiki/programming/cpp/memory/"}}');var a=t(74848),r=t(28453);const s={},o=void 0,c={},l=[{value:"\u53ef\u9009\u4e0e\u4ee3\u6570\u7c7b\u578b\uff1astd::optional/std::variant",id:"\u53ef\u9009\u4e0e\u4ee3\u6570\u7c7b\u578bstdoptionalstdvariant",level:3}];function p(n){const e={code:"code",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h3,{id:"\u53ef\u9009\u4e0e\u4ee3\u6570\u7c7b\u578bstdoptionalstdvariant",children:"\u53ef\u9009\u4e0e\u4ee3\u6570\u7c7b\u578b\uff1astd::optional/std::variant"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"std::optional<T>"})," \u8868\u793a\u53ef\u6709\u53ef\u65e0\u7684\u503c\uff1a"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-cpp",children:"#include <optional>\nstd::optional<int> parse(const char* s);\n"})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"std::variant"})," \u8868\u793a\u201c\u8054\u5408\u4f46\u5b89\u5168\u201d\u7684\u4ee3\u6570\u6570\u636e\u7c7b\u578b\uff0c\u914d\u5408 ",(0,a.jsx)(e.code,{children:"std::visit"})," \u8fdb\u884c\u6a21\u5f0f\u5339\u914d\uff1a"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-cpp",children:'#include <variant>\n#include <string>\n\nusing Result = std::variant<int, std::string>;\n\nResult f(bool ok){ return ok ? Result{42} : Result{std::string("err")}; }\n'})}),"\n",(0,a.jsxs)(e.p,{children:["\u5efa\u8bae\uff1a\u63a5\u53e3\u8fd4\u56de\u9519\u8bef\u65f6\u4f18\u5148 ",(0,a.jsx)(e.code,{children:"expected"})," \u98ce\u683c\uff08C++23 ",(0,a.jsx)(e.code,{children:"std::expected"})," \u6216\u81ea\u5b9a\u4e49/\u7b2c\u4e09\u65b9\uff09\u3002"]})]})}function d(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(p,{...n})}):p(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>o});var i=t(96540);const a={},r=i.createContext(a);function s(n){const e=i.useContext(r);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:s(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);