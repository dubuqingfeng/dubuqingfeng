"use strict";(globalThis.webpackChunkdubuqingfeng=globalThis.webpackChunkdubuqingfeng||[]).push([[68407],{28453:(e,n,o)=>{o.d(n,{R:()=>d,x:()=>s});var i=o(96540);const r={},l=i.createContext(r);function d(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(l.Provider,{value:n},e.children)}},86703:e=>{e.exports=JSON.parse('{"permalink":"/blog/201606-android-security-logcat-log-thinks","source":"@site/blog/201606-android-security-logcat-log-thinks.md","title":"LogCat \u53ca Log \u7684\u4e00\u4e9b\u601d\u8003","description":"0x00 TOC \u539f\u7406 smali\u6ce8\u5165 \u624b\u673a\u67e5\u770blog\u5e76\u5bfc\u51fa so\u6253log \u53d1\u5e03(release)\u7248\u5c4f\u853dLog\u8f93\u51fa \u67e5\u770b\u5185\u6838\u65e5\u5fd7 \u53c2\u8003\u94fe\u63a5","date":"2016-06-21T17:36:00.000Z","tags":[{"inline":true,"label":"Android\u5b89\u5168","permalink":"/blog/tags/android\u5b89\u5168"},{"inline":true,"label":"Log","permalink":"/blog/tags/log"},{"inline":true,"label":"LogCat","permalink":"/blog/tags/log-cat"},{"inline":true,"label":"\u6280\u672f","permalink":"/blog/tags/\u6280\u672f"}],"readingTime":5.68,"hasTruncateMarker":false,"authors":[{"name":"admin","key":null,"page":null}],"frontMatter":{"title":"LogCat \u53ca Log \u7684\u4e00\u4e9b\u601d\u8003","description":"0x00 TOC \u539f\u7406 smali\u6ce8\u5165 \u624b\u673a\u67e5\u770blog\u5e76\u5bfc\u51fa so\u6253log \u53d1\u5e03(release)\u7248\u5c4f\u853dLog\u8f93\u51fa \u67e5\u770b\u5185\u6838\u65e5\u5fd7 \u53c2\u8003\u94fe\u63a5","date":"2016-06-21 17:36","updated":"2016-06-23 18:27","tags":["Android\u5b89\u5168","Log","LogCat","\u6280\u672f"],"excerpt":"Android \u7cfb\u7edf\u662f\u5982\u4f55\u5b9e\u73b0 Log \u673a\u5236\u7684\uff0c\u4ee5\u53ca\u6709\u5173 Log \u7684\u4e00\u4e9b\u95ee\u9898\uff0csmali \u6ce8\u5165\uff0cso \u6253 log\uff0c\u5c4f\u853d log \u8f93\u51fa\uff0c\u67e5\u770b\u5185\u6838\u65e5\u5fd7\u7b49\u3002","categories":"Android\u5b89\u5168","permalink":"201606-android-security-logcat-log-thinks.html","author":"admin","toc":true},"unlisted":false,"prevItem":{"title":"Android Decompiler / \u521d\u63a2\u53cd\u7f16\u8bd1","permalink":"/blog/201606-android-security-decompiler"},"nextItem":{"title":"\u6355\u6349 android \u7f51\u7edc\u6d41\u91cf\u53ca\u4e2d\u95f4\u4eba\u653b\u51fb","permalink":"/blog/201606-capture-android-mitm"}}')},89276:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>t,contentTitle:()=>s,default:()=>g,frontMatter:()=>d,metadata:()=>i,toc:()=>a});var i=o(86703),r=o(74848),l=o(28453);const d={title:"LogCat \u53ca Log \u7684\u4e00\u4e9b\u601d\u8003",description:"0x00 TOC \u539f\u7406 smali\u6ce8\u5165 \u624b\u673a\u67e5\u770blog\u5e76\u5bfc\u51fa so\u6253log \u53d1\u5e03(release)\u7248\u5c4f\u853dLog\u8f93\u51fa \u67e5\u770b\u5185\u6838\u65e5\u5fd7 \u53c2\u8003\u94fe\u63a5",date:"2016-06-21 17:36",updated:"2016-06-23 18:27",tags:["Android\u5b89\u5168","Log","LogCat","\u6280\u672f"],excerpt:"Android \u7cfb\u7edf\u662f\u5982\u4f55\u5b9e\u73b0 Log \u673a\u5236\u7684\uff0c\u4ee5\u53ca\u6709\u5173 Log \u7684\u4e00\u4e9b\u95ee\u9898\uff0csmali \u6ce8\u5165\uff0cso \u6253 log\uff0c\u5c4f\u853d log \u8f93\u51fa\uff0c\u67e5\u770b\u5185\u6838\u65e5\u5fd7\u7b49\u3002",categories:"Android\u5b89\u5168",permalink:"201606-android-security-logcat-log-thinks.html",author:"admin",toc:!0},s="0x00  TOC",t={authorsImageUrls:[void 0]},a=[];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u539f\u7406"}),"\n",(0,r.jsx)(n.li,{children:"smali\u6ce8\u5165"}),"\n",(0,r.jsx)(n.li,{children:"\u624b\u673a\u67e5\u770blog\u5e76\u5bfc\u51fa"}),"\n",(0,r.jsx)(n.li,{children:"so\u6253log"}),"\n",(0,r.jsx)(n.li,{children:"\u53d1\u5e03(release)\u7248\u5c4f\u853dLog\u8f93\u51fa"}),"\n",(0,r.jsx)(n.li,{children:"\u67e5\u770b\u5185\u6838\u65e5\u5fd7"}),"\n",(0,r.jsx)(n.li,{children:"\u53c2\u8003\u94fe\u63a5"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"#####0x01  \u539f\u7406"}),"\n",(0,r.jsx)(n.p,{children:"\u5e38\u89c1\u7684\u4e00\u4e9b\u6253Log\u7684\u8bed\u53e5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'Log.i(TAG, "");\nLog.d(TAG, "");\nLog.e(TAG, "");\nLog.v(TAG, "");\nLog.w(TAG, "");\nLog.wtf(TAG, "");\n'})}),"\n",(0,r.jsx)(n.p,{children:"Log\u7ed9\u5f00\u53d1\u8005\u5f00\u653e\u4e866\u79cd\u7ea7\u522b(\u5206\u522b\u5bf9\u5e94info\uff0cdebug\uff0cerror\uff0cverbose\uff0cwarning\uff0cassert)\uff0c\u9690\u85cf\u4e86\u4e24\u79cd\u7ea7\u522b:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"F \u2014 Fatal\nS \u2014 Silent (highest priority, on which nothing is ever printed)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u901a\u8fc7\u9605\u8bfb",(0,r.jsx)(n.a,{href:"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/util/Log.java",children:"Log\u7684\u4ee3\u7801"}),"\uff0c\u91cc\u9762\u8bf4\u660e\u4e86\u901a\u8fc7",(0,r.jsx)(n.code,{children:"println_native(LOG_ID_MAIN, Priority, tag, msg);"}),"\u4ee3\u7801\u8fdb\u884c\u8f93\u51fa\u4e86\u65e5\u5fd7\u3002\u5e76\u58f0\u660e\u4e86LOG_ID_MAIN\u3001LOG_ID_RADIO\u3001LOG_ID_EVENTS\u3001LOG_ID_SYSTEM\u3001LOG_ID_CRASH\u4e94\u4e2a\u7f13\u51b2\u533a\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u800c",(0,r.jsx)(n.code,{children:"println_native()"}),"\u7684\u4ee3\u7801\u5728",(0,r.jsx)(n.a,{href:"http://www.netmite.com/android/mydroid/frameworks/base/core/jni/android_util_Log.cpp",children:(0,r.jsx)(n.code,{children:"frameworks/base/core/jni/android_util_log.cpp"})}),"\uff0c\u5176\u4e2d\u5224\u65ad\u4e86msg\u662f\u5426\u4e3a\u7a7a\uff0c\u5982\u679c\u4e3a\u7a7a\uff0c\u629b\u51fa\u7a7a\u6307\u9488\u5f02\u5e38\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5176\u4e2dlevels_t\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u5176\u4e2d\u5305\u62ec\u4e86\u90a3\u516d\u79cd\u7ea7\u522b\uff0c\u5176\u4e2d",(0,r.jsx)(n.code,{children:"assert"}),"\uff0c\u67e5\u9605\u4ee3\u7801\u53ef\u5f97\u77e5\uff0c\u5982\u679c\u5229\u7528Log.wtf()\u65b9\u6cd5\uff0c\u5c31\u4f1a\u6253\u5370\u4e00\u4e2a\u6807\u5fd7\u6210ASSERT\u7684\u9519\u8bef\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5e76\u901a\u8fc7\u4ee5\u4e0b\u51fd\u6570\u8fdb\u884c\u4e86\u6253\u5370\u64cd\u4f5c\u3002\u5373",(0,r.jsx)(n.a,{href:"https://github.com/cgjones/android-system-core/blob/master/liblog/logd_write.c",children:"__android_log_buf_write"}),"\u3002\u5728",(0,r.jsx)(n.code,{children:"__android_log_buf_write"}),"\u51fd\u6570\u91cc\u901a\u8fc7\u8c03\u7528",(0,r.jsx)(n.code,{children:"write_to_log"}),"\u51fd\u6570\u8fdb\u884c\u6253\u5370\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-C++",children:"int res = __android_log_buf_write(bufID, (android_LogPriority)priority, tag, msg);\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7136\u540e",(0,r.jsx)(n.code,{children:"write_to_log"}),"\u662f\u600e\u6837\u7684\u60c5\u51b5\u5462\uff0c\u5728\u6587\u4ef645\u884c\u6709\u4ee5\u4e0b\u4fe1\u606f\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-C++",children:"static int (*write_to_log)(log_id_t, struct iovec *vec, size_t nr) = __write_to_log_init;\nstatic int __write_to_log_init(log_id_t, struct iovec *vec, size_t nr);\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7136\u540e\u8ffd\u6eaf\u5230",(0,r.jsx)(n.code,{children:"__write_to_log_init"}),"\u8fd9\u4e2a\u51fd\u6570\u91cc\uff0c\u8fd9\u4e2a\u51fd\u6570\u5176\u4e2d\u6709\u4e00\u4e9b\u6253\u5f00\u6587\u4ef6\u7b49\u7684\u64cd\u4f5c\uff0c\u7136\u540e",(0,r.jsx)(n.code,{children:"__write_to_log_kernel"}),"\u8fd9\u4e2a\u5c31\u5199\u5165\u5230\u6587\u4ef6\u91cc\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5177\u4f53\u5e95\u5c42Log\u8bbe\u5907Logger\u673a\u5236\uff0c\u5c31\u4e0d\u518d\u9610\u8ff0\uff0c\u5982\u679c\u7ec6\u7814\u4e0b\u53bb\uff0c\u5c31\u662f\u53e6\u4e00\u7bc7\u6587\u7ae0\u4e86\uff0c\u5e76\u4e14\u5d4c\u5165\u5f0f\u7684\u540c\u5b66\u8fd8\u5b66\u5230\u4e86",(0,r.jsx)(n.code,{children:"ioctl"}),"\u51fd\u6570\uff0c\u8fd9\u9700\u8981\u4e00\u4e9bLinux\u9a71\u52a8\u65b9\u9762\u7684\u77e5\u8bc6\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["LogCat\u662f\u5982\u4f55\u83b7\u53d6Log\u7684\uff1f\u901a\u8fc7",(0,r.jsx)(n.a,{href:"https://github.com/cgjones/android-system-core/blob/master/logcat/logcat.cpp",children:(0,r.jsx)(n.code,{children:"logcat.cpp"})}),"\uff0c\u53ef\u4ee5\u77e5\u9053\uff0c\u5b9a\u4e49\u4e86\u4e00\u4e2aLog\u6587\u4ef6\u76ee\u5f55\uff0c\u5373",(0,r.jsx)(n.code,{children:'#define LOG_FILE_DIR    "/dev/log/"'}),"\u3002\u5177\u4f53\u8bfb\u53d6log\u7684\u8fc7\u7a0b\uff0c\u53ef\u4ee5\u53c2\u8003\u7530\u6d77\u7acb\u7684\u6587\u7ae0\uff0d",(0,r.jsx)(n.a,{href:"http://blog.csdn.net/thl789/article/details/6638344",children:"\u89e3\u8bfbAndroid LOG\u673a\u5236\u7684\u5b9e\u73b0\uff1a\uff085\uff09\u83b7\u53d6LOG\u7684\u5e94\u7528\u7a0b\u5e8fLogCat\n"}),"\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u4f55\u53bb\u4fee\u6539logcat\u7684\u663e\u793a\u989c\u8272\u5462\uff0c\u53ef\u4ee5\u901a\u8fc7",(0,r.jsx)(n.a,{href:"http://blog.csdn.net/hotlinhao/article/details/9150519",children:"android studio\u7684\u8bbe\u7f6e"}),"\uff0c\u4e5f\u53ef\u4ee5\u5b89\u88c5\u4e00\u4e2a",(0,r.jsx)(n.a,{href:"https://github.com/marshall/logcat-color",children:"logcat-color"}),"\u76f4\u63a5\u6539\u53d8\u989c\u8272\uff0c\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$ logcat-color -e | egrep '(Tag1|Tag2)'\n"})}),"\n",(0,r.jsx)(n.h1,{id:"0x02--smali\u6ce8\u5165",children:"0x02  smali\u6ce8\u5165"}),"\n",(0,r.jsx)(n.p,{children:"\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\uff0c\u8fdb\u884capktool\u53cd\u7f16\u8bd1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"apktool d xxx.apk\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u5408\u9002\u4f4d\u7f6e\u63d2\u5165\u4ee5\u4e0b\u8bed\u53e5\uff0c\u5176\u4e2dv0\u4e3a\u5bc4\u5b58\u5668\uff0c\u5c3d\u91cf\u4e0d\u8981\u968f\u610f\u6dfb\u52a0\u5bc4\u5b58\u5668\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-smali",children:"invoke-static {v0, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u7136\u540e\u8fdb\u884c\u6253\u5305"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"apktool b xxx -o xxx.apk\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6253\u5305\u5b8c\u5b89\u88c5\u9700\u8981\u7b7e\u540d\uff0c\u7531\u4e8e\u5df2\u7ecf\u6709\u4e86android.keystore \uff0c\u8fd9\u91cc\u4f7f\u7528jarsigner\u8fdb\u884c\u7b7e\u540d\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"jarsigner -verbose -keystore android.keystore -signedjar android_signed.apk app.apk android.keystore\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u8fd0\u884c\u5373\u53ef\u770b\u5230Log\u4fe1\u606f\u3002"}),"\n",(0,r.jsx)(n.h1,{id:"0x03--\u624b\u673a\u67e5\u770blog\u5e76\u5bfc\u51fa",children:"0x03  \u624b\u673a\u67e5\u770blog\u5e76\u5bfc\u51fa"}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u4f55\u5728\u624b\u673a\u4e0a\u8bfb\u53d6\u5176\u4ed6\u5e94\u7528\u7684log\u5e76\u53ef\u4ee5\u5bfc\u51fa\u5462\uff0c\u8c37\u6b4c\u57284.1\u4ee5\u540e\u7981\u6b62\u4e86\u76f8\u5173\u6743\u9650\uff0c\u6539\u4e3a\u4e86",(0,r.jsx)(n.code,{children:"signature|system|development"}),"\u6743\u9650\u3002\u5c31\u7b97\u6709android.PREMISSION.READ_LOGS\uff0c\u4e5f\u8bfb\u53d6\u4e0d\u5230\u5176\u4ed6\u5e94\u7528\u7684log\u4e86\u3002\u53ea\u80fdroot\u4ee5\u540e\u67e5\u770b\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u8c37\u6b4cAndroid Developer\u8bba\u575b\u91cc\u4e5f\u6709",(0,r.jsx)(n.a,{href:"https://groups.google.com/forum/?fromgroups#!topic/android-developers/6U4A5irWang",children:"\u76f8\u5173\u8ba8\u8bba"}),"\u3002\u57284.1\u4e4b\u540e\uff0c\u7981\u6b62\u4e86\u53bb\u9605\u8bfb\u5176\u4ed6\u5e94\u7528log\u7684\u6743\u9650\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5e76\u4e14\u5728google play\u5546\u5e97\u4e0a\u4e5f\u6709\u51e0\u6b3e\u624b\u673a\u4e0a\u67e5\u770blog\u7684\u8f6f\u4ef6\uff0c\u9700\u8981root\u6743\u9650\u3002\u6bd4\u5982",(0,r.jsx)(n.a,{href:"https://play.google.com/store/apps/details?id=com.nolanlawson.logcat&hl=en",children:"CatLog - Logcat Reader!"}),"\uff0c",(0,r.jsx)(n.a,{href:"https://play.google.com/store/apps/details?id=org.jtb.alogcat&hl=en",children:"aLogcat (free) - logcat\n"}),"\u7b49\u3002aLogCat\u4e5f\u5f00\u6e90\u4e86\uff0c\u5730\u5740\u5728",(0,r.jsx)(n.a,{href:"https://github.com/nolanlawson/Catlog",children:"GitHub\u4e0a"}),"\u3002"]}),"\n",(0,r.jsx)(n.h1,{id:"0x04--so\u6253log",children:"0x04  so\u6253log"}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u4f55\u5728so\u6587\u4ef6\uff0c\u5373jni\u5f00\u53d1\u4e2d\u91cc\u6253log\u5462"}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u91cc\u5982\u4f55\u914d\u7f6eNDK\u5c31\u4e0d\u518d\u53d9\u8ff0\u3002\u8be6\u7ec6\u53ef\u53c2\u8003",(0,r.jsx)(n.a,{href:"https://developer.android.com/ndk/guides/index.html",children:"ndk\u5b98\u7f51"})]}),"\n",(0,r.jsx)(n.p,{children:"\u9700\u8981\u5728cpp\u6587\u4ef6\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u8bed\u53e5\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-C++",children:'#include <android/log.h>\n//\u6253\u5370\u76f8\u5173\u4fe1\u606f\n__android_log_write(ANDROID_LOG_DEBUG,"Tag","Java_com_sxau_ndkdemo_MainActivity_getStringFromC");\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u7136\u540e\u5728build.gradle\u6587\u4ef6\u91cc\uff0c\u4fee\u6539\u6210\u4ee5\u4e0b\u7247\u6bb5\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'ndk {\n    moduleName "JniDemo"\n    ldLibs("log", "z", "m")\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u5f15\u5165",(0,r.jsx)(n.code,{children:"liblog.h"}),"\uff0c\u6216\u8005\u901a\u8fc7\u81ea\u5b9a\u4e49",(0,r.jsx)(n.code,{children:"Android.mk"}),"\u8fdb\u884c\u5bfc\u5165\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u5b8f\u5b9a\u4e49\u5b9a\u4e49\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c++",children:'#define LOG_TAG "ANDROID_LAB"  \n#define LOGE(...) __android_log_print(ANDROID_LOG_ERROR, LOG_TAG, __VA_ARGS__)  \n'})}),"\n",(0,r.jsx)(n.h1,{id:"0x05--\u53d1\u5e03release\u7248\u5c4f\u853dlog\u8f93\u51fa",children:"0x05  \u53d1\u5e03(release)\u7248\u5c4f\u853dLog\u8f93\u51fa"}),"\n",(0,r.jsx)(n.p,{children:"\u4e00\u79cd\u65b9\u6cd5\u662f\u901a\u8fc7\u6dfb\u52a0\u4e00\u4e2aLog\u8f85\u52a9\u7c7b\uff0c\u914d\u7f6e\u7ea7\u522b\uff0c\u6216\u8005\u901a\u8fc7\u53d8\u91cf\u63a7\u5236\u663e\u793a\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"public class Log {\n    public static int logLevel = Log.VERBOSE;\n    \n    public static void i(String tag, String msg) {\n        if (logLevel <= Log.INFO)\n            android.util.Log.i(tag, msg);\n    }\n    \n    public static void e(String tag, String msg) {\n        if (logLevel <= Log.ERROR)\n            android.util.Log.e(tag, msg);\n    }\n    \n    public static void d(String tag, String msg) {\n        if (logLevel <= Log.DEBUG)\n            android.util.Log.d(tag, msg);\n    }\n    \n    public static void v(String tag, String msg) {\n        if (logLevel <= Log.VERBOSE)\n            android.util.Log.v(tag, msg);\n    }\n    \n    public static void w(String tag, String msg) {\n        if (logLevel <= Log.WARN)\n            android.util.Log.w(tag, msg);\n    }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528\u65f6\u76f4\u63a5\u4f7f\u7528\u8fd9\u4e2aLog\u7c7b\u6253\u5370\u65b9\u6cd5\u3002"}),"\n",(0,r.jsx)(n.p,{children:"release\u7248\u5c4f\u853dlog\u8f93\u51fa\uff0c\u53e6\u5916\u4e00\u79cd\u65b9\u6cd5\u662f\uff0c\u53ef\u4ee5\u901a\u8fc7ProGuard\u7684\u65b9\u5f0f\uff0c\u5c06log\u8bed\u53e5\u5220\u9664\u3002"}),"\n",(0,r.jsx)(n.p,{children:"ProGuard\u662fAndroid SDK\u7684\u4e00\u90e8\u5206\u3002\u53ea\u9700\u8981\u5f00\u542f\u5373\u53ef\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u5728android studio\u4e2d\uff0c\u7f16\u8f91build.gradle\u6587\u4ef6\uff0c\u914d\u7f6e\u5982\u4e0b\u4ee3\u7801\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"android {\n...\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u540e\u6765gradle\u7684runProguard\u66f4\u540d\u4e3aminifyEnabled\uff0c\u6240\u4ee5\u76f4\u63a5\u6539\u4e3atrue\u5373\u53ef\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u6ce8\u610f\u8fd9\u6bb5\u4f4d\u7f6e\uff0c\u672c\u6765\u6309\u9ed8\u8ba4\u7684\u914d\u7f6e\u4e00\u76f4\u6ca1\u6709\u6d88\u9664\u6210\u529f\uff0c\u76f4\u5230\u770b\u4e86\u4e00\u7bc7",(0,r.jsx)(n.a,{href:"http://blog.csdn.net/weizaishouex2010/article/details/49866621",children:"\u6587\u7ae0"}),"\u4ee5\u540e\uff0c\u6539\u4e3a\u4e86",(0,r.jsx)(n.code,{children:"proguard-android-optimize.txt"}),"\uff0c\u624d\u5c4f\u853d\u8f93\u51fa\u6210\u529f\u3002\u5373\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"release {\n    minifyEnabled true\n    proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u4fee\u6539Proguard\u7684\u914d\u7f6e\u6587\u4ef6",(0,r.jsx)(n.code,{children:"proguard-rules.pro"}),"\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"-assumenosideeffects class android.util.Log {\n    public static int v(...);\n    public static int i(...);\n    public static int w(...);\n    public static int d(...);\n    public static int e(...);\n}\n\n-assumenosideeffects class java.io.PrintStream{\n    public void println(%);\n    public void println(**);\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5373\u7ed3\u679c\u3002\u7136\u540e\u6253\u5305\u7b7e\u540d\u8f93\u51fa\u5c31\u4e0d\u4f1a\u6709log\u65e5\u5fd7\u4e86\u3002"}),"\n",(0,r.jsx)(n.h1,{id:"0x06--\u67e5\u770b\u5185\u6838\u65e5\u5fd7",children:"0x06  \u67e5\u770b\u5185\u6838\u65e5\u5fd7"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"./adb shell\nsu\ndmesg\ncat /proc/kmsg\n"})}),"\n",(0,r.jsxs)(n.p,{children:["dmesg\u662f\u5185\u6838\u4e2d\u7684\u4e00\u4e2a\u547d\u4ee4\uff0c\u53ef\u4ee5\u67e5\u770b\u5185\u6838\u65e5\u5fd7\uff0c\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u7528",(0,r.jsx)(n.code,{children:"cat/proc/kmsg"}),"\u3002\u4e24\u8005\u4e0d\u540c\u7684\u662f\uff0cdmesg\u53ea\u8bfb\u53d6\u7f13\u51b2\u533a\u4e2d\u7684\u5185\u6838\u65e5\u5fd7\uff0c\u800c",(0,r.jsx)(n.code,{children:"cat /proc/kmsg"}),"\u5219\u53ef\u4ee5\u539f\u59cb\u7684\u3001\u5b8c\u6574\u7684\u65e5\u5fd7\u6587\u4ef6\u3002"]}),"\n",(0,r.jsx)(n.h1,{id:"0x07--\u53c2\u8003\u94fe\u63a5",children:"0x07  \u53c2\u8003\u94fe\u63a5"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://developer.android.com/reference/android/util/Log.html",children:"Google API"})}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"http://drops.wooyun.org/tips/3812",children:"Android LogCat Security"})}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"http://stackoverflow.com/questions/25149481/can-logcat-be-used-to-log-ndk-code-in-android-or-what-are-logging-options-from",children:"Stackoverflow"})}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://book.douban.com/subject/19986441/",children:"android\u7cfb\u7edf\u6e90\u4ee3\u7801\u60c5\u666f\u5206\u6790"})}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"http://blog.csdn.net/zgjxwl/article/details/6234025",children:"\u5982\u4f55\u5728JNI\u7f16\u7a0b\u4e2d\u4f7f\u7528logCat"})}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);