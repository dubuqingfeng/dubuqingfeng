"use strict";(self.webpackChunkdubuqingfeng=self.webpackChunkdubuqingfeng||[]).push([[6851],{20715:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>t,default:()=>j,frontMatter:()=>c,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"Wiki/programming/java/jvm/jit","title":"jit","description":"JIT \u4e0e\u8fd0\u884c\u65f6\u4f18\u5316","source":"@site/docs/Wiki/programming/java/jvm/jit.md","sourceDirName":"Wiki/programming/java/jvm","slug":"/Wiki/programming/java/jvm/jit","permalink":"/docs/Wiki/programming/java/jvm/jit","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"overview","permalink":"/docs/Wiki/programming/java/jvm/gc/overview"},"next":{"title":"exceptions","permalink":"/docs/Wiki/programming/java/language/exceptions"}}');var r=i(74848),s=i(28453);const c={},t=void 0,o={},d=[{value:"JIT \u4e0e\u8fd0\u884c\u65f6\u4f18\u5316",id:"jit-\u4e0e\u8fd0\u884c\u65f6\u4f18\u5316",level:3},{value:"ToC",id:"toc",level:4},{value:"\u89e3\u91ca\u6267\u884c\u4e0e\u5373\u65f6\u7f16\u8bd1",id:"\u89e3\u91ca\u6267\u884c\u4e0e\u5373\u65f6\u7f16\u8bd1",level:4},{value:"C1/C2 \u7f16\u8bd1\u5668\u4e0e\u5206\u5c42\u7f16\u8bd1",id:"c1c2-\u7f16\u8bd1\u5668\u4e0e\u5206\u5c42\u7f16\u8bd1",level:4},{value:"\u9003\u9038\u5206\u6790\u4e0e\u6807\u91cf\u66ff\u6362",id:"\u9003\u9038\u5206\u6790\u4e0e\u6807\u91cf\u66ff\u6362",level:4},{value:"\u5185\u8054\u4e0e\u53bb\u865a\u62df\u5316",id:"\u5185\u8054\u4e0e\u53bb\u865a\u62df\u5316",level:4}];function a(n){const e={code:"code",h3:"h3",h4:"h4",li:"li",p:"p",ul:"ul",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h3,{id:"jit-\u4e0e\u8fd0\u884c\u65f6\u4f18\u5316",children:"JIT \u4e0e\u8fd0\u884c\u65f6\u4f18\u5316"}),"\n",(0,r.jsx)(e.h4,{id:"toc",children:"ToC"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u89e3\u91ca\u6267\u884c\u4e0e\u5373\u65f6\u7f16\u8bd1"}),"\n",(0,r.jsx)(e.li,{children:"C1/C2 \u7f16\u8bd1\u5668\u4e0e\u5206\u5c42\u7f16\u8bd1"}),"\n",(0,r.jsx)(e.li,{children:"\u9003\u9038\u5206\u6790\u4e0e\u6807\u91cf\u66ff\u6362"}),"\n",(0,r.jsx)(e.li,{children:"\u5185\u8054\u4e0e\u53bb\u865a\u62df\u5316"}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"\u89e3\u91ca\u6267\u884c\u4e0e\u5373\u65f6\u7f16\u8bd1",children:"\u89e3\u91ca\u6267\u884c\u4e0e\u5373\u65f6\u7f16\u8bd1"}),"\n",(0,r.jsx)(e.p,{children:"HotSpot \u91c7\u7528\u89e3\u91ca\u5668 + JIT \u7f16\u8bd1\uff1a\u70ed\u70b9\u65b9\u6cd5/\u5faa\u73af\u88ab\u7f16\u8bd1\u4e3a\u672c\u5730\u673a\u5668\u7801\u4ee5\u63d0\u5347\u6027\u80fd\u3002\u70ed\u70b9\u63a2\u6d4b\u57fa\u4e8e\u8ba1\u6570\u5668\uff08\u8c03\u7528/\u56de\u8fb9\uff09\uff0c\u8fbe\u5230\u9608\u503c\u540e\u89e6\u53d1\u7f16\u8bd1\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"c1c2-\u7f16\u8bd1\u5668\u4e0e\u5206\u5c42\u7f16\u8bd1",children:"C1/C2 \u7f16\u8bd1\u5668\u4e0e\u5206\u5c42\u7f16\u8bd1"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"C1\uff08Client\uff09\uff1a\u7f16\u8bd1\u5feb\u3001\u4f18\u5316\u8f83\u5c11\uff0c\u9002\u5408\u542f\u52a8\u5feb\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"C2\uff08Server\uff09\uff1a\u4f18\u5316\u6fc0\u8fdb\u3001\u7f16\u8bd1\u6162\uff0c\u9002\u5408\u957f\u65f6\u95f4\u8fd0\u884c\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u5206\u5c42\u7f16\u8bd1\uff08Tiered\uff09\uff1a\u7ed3\u5408\u4e24\u8005\u4f18\u52bf\uff0c\u5148 C1\uff08\u542b profiling\uff09\uff0c\u518d\u5347\u7ea7\u81f3 C2\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u5e38\u7528\u53c2\u6570\uff1a",(0,r.jsx)(e.code,{children:"-XX:+TieredCompilation"}),"\uff08\u9ed8\u8ba4\u5f00\uff09\u3001",(0,r.jsx)(e.code,{children:"-XX:CompileThreshold="}),"\u3001",(0,r.jsx)(e.code,{children:"-XX:CICompilerCount="}),"\u3002"]}),"\n",(0,r.jsx)(e.h4,{id:"\u9003\u9038\u5206\u6790\u4e0e\u6807\u91cf\u66ff\u6362",children:"\u9003\u9038\u5206\u6790\u4e0e\u6807\u91cf\u66ff\u6362"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u9003\u9038\u5206\u6790\uff1a\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u9003\u51fa\u65b9\u6cd5/\u7ebf\u7a0b\u8303\u56f4\uff1b","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u672a\u9003\u9038 \u2192 \u6808\u4e0a\u5206\u914d/\u6807\u91cf\u66ff\u6362\u3001\u9501\u6d88\u9664\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u7ebf\u7a0b\u5185\u9003\u9038 \u2192 \u9501\u6d88\u9664\uff1b"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"\u6807\u91cf\u66ff\u6362\uff1a\u5c06\u5bf9\u8c61\u62c6\u4e3a\u5c40\u90e8\u6807\u91cf\u5b58\u50a8\u4e8e\u5bc4\u5b58\u5668/\u6808\uff0c\u51cf\u5c11\u5206\u914d\u4e0e GC \u538b\u529b\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u76f8\u5173\u53c2\u6570\uff1a",(0,r.jsx)(e.code,{children:"-XX:+DoEscapeAnalysis"}),"\u3001",(0,r.jsx)(e.code,{children:"-XX:+EliminateLocks"}),"\u3002"]}),"\n",(0,r.jsx)(e.h4,{id:"\u5185\u8054\u4e0e\u53bb\u865a\u62df\u5316",children:"\u5185\u8054\u4e0e\u53bb\u865a\u62df\u5316"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5185\u8054\uff1a\u5c06\u88ab\u8c03\u65b9\u6cd5\u4f53\u5d4c\u5165\u8c03\u7528\u70b9\uff0c\u6d88\u9664\u8c03\u7528\u5f00\u9500\u5e76\u66b4\u9732\u66f4\u591a\u4f18\u5316\u673a\u4f1a\uff1b\u53d7\u9650\u4e8e\u65b9\u6cd5\u5927\u5c0f\u4e0e\u590d\u6742\u5ea6\u9608\u503c\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u53bb\u865a\u62df\u5316\uff1a\u57fa\u4e8e\u7c7b\u578b\u5206\u6790\u5c06\u865a\u8c03\u7528\u8f6c\u4e3a\u76f4\u8c03\uff08\u751a\u81f3\u5185\u8054\uff09\uff0c\u5178\u578b\u4e8e\u5355\u6001/\u5c11\u6001\u8c03\u7528\u70b9\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u5047\u8bbe\u53ef\u80fd\u5931\u6548\uff08\u5982\u7c7b\u70ed\u66ff\u6362/\u7c7b\u52a0\u8f7d\u53d8\u5316\uff09\u65f6\u4f9d\u8d56\u53bb\u4f18\u5316\u4e0e OSR\uff08On-Stack Replacement\uff09\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u89c2\u6d4b\u4e0e\u8bca\u65ad\uff1aJFR \u7f16\u8bd1\u4e8b\u4ef6\u3001",(0,r.jsx)(e.code,{children:"-XX:+PrintCompilation"}),"\u3001",(0,r.jsx)(e.code,{children:"-XX:+UnlockDiagnosticVMOptions -XX:+PrintInlining"}),"\u3002"]})]})}function j(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}},28453:(n,e,i)=>{i.d(e,{R:()=>c,x:()=>t});var l=i(96540);const r={},s=l.createContext(r);function c(n){const e=l.useContext(s);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:c(n.components),l.createElement(s.Provider,{value:e},n.children)}}}]);